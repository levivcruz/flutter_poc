# name: Android Build

# on:
#   push:
#     branches: [main]
#     tags:
#       - 'v*'
#     paths:
#       - 'lib/**'
#       - 'android/**'
#       - 'pubspec.yaml'
#       - 'pubspec.lock'

# env:
#   FLUTTER_VERSION: '3.22.3'
#   JAVA_VERSION: '17'

# jobs:
#   build_android:
#     name: Build Android
#     runs-on: ubuntu-latest
#     if: github.event_name == 'push' && (github.ref == 'refs/heads/main' || startsWith(github.ref, 'refs/tags/'))

#     steps:
#       - name: Checkout code
#         uses: actions/checkout@v3

#       - name: Set up Java
#         uses: actions/setup-java@v3
#         with:
#           distribution: 'zulu'
#           java-version: ${{ env.JAVA_VERSION }}
#           cache: 'gradle'

#       - name: Set up Flutter
#         uses: subosito/flutter-action@v2
#         with:
#           flutter-version: ${{ env.FLUTTER_VERSION }}
#           channel: stable
#           cache: true

#       - name: Install dependencies
#         run: flutter pub get

#       - name: Build release APK
#         run: flutter build apk --release

#       - name: Upload APK artifact
#         uses: actions/upload-artifact@v4
#         with:
#           name: app-release-apk
#           path: build/app/outputs/flutter-apk/app-release.apk
#           retention-days: 7
